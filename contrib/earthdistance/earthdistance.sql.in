begin;

--------------- geo_distance

CREATE OR REPLACE FUNCTION geo_distance (point, point) RETURNS float8
  LANGUAGE 'c' IMMUTABLE STRICT AS 'MODULE_PATHNAME';

--------------- geo_distance as operator <@>

CREATE OPERATOR <@> (
  leftarg = point,
  rightarg = point,
  procedure = geo_distance,
  commutator = <@>
);

--
-- By default this function is made executable by anyone. To restrict
-- access by default, comment out the following grant command.
--

grant execute on function geo_distance(point, point) to public;

commit;
