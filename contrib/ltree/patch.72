*** ltree.sql.in	Tue Jul 23 18:49:12 2002
--- ltree.sql.in.72	Wed Jul 17 18:59:08 2002
***************
*** 177,188 ****
  
  
  -- B-tree support
! INSERT INTO pg_opclass (opcamid, opcname, opcnamespace, opcowner, opcintype, opcdefault, opckeytype)
      VALUES (
          (SELECT oid FROM pg_am WHERE amname = 'btree'),
          'ltree_ops',
- 	(SELECT oid FROM pg_namespace WHERE nspname = 'pg_catalog'),
- 	1,      -- UID of superuser is hardwired to 1 as of PG 7.3
          (SELECT oid FROM pg_type WHERE typname = 'ltree'),
          true,
          0);
--- 177,186 ----
  
  
  -- B-tree support
! INSERT INTO pg_opclass (opcamid, opcname, opcintype, opcdefault, opckeytype)
      VALUES (
          (SELECT oid FROM pg_am WHERE amname = 'btree'),
          'ltree_ops',
          (SELECT oid FROM pg_type WHERE typname = 'ltree'),
          true,
          0);
***************
*** 376,386 ****
  create function ltree_union(bytea, opaque) returns int4 as 'MODULE_PATHNAME' language 'C';
  create function ltree_same(opaque, opaque, opaque) returns opaque as 'MODULE_PATHNAME' language 'C';
  
! INSERT INTO pg_opclass (opcamid, opcname, opcnamespace, opcowner, opcintype, opckeytype, opcdefault)
!    SELECT pg_am.oid, 'gist_ltree_ops', 
! 	(SELECT oid FROM pg_namespace WHERE nspname = 'pg_catalog'),
! 	1,      -- UID of superuser is hardwired to 1 as of PG 7.3
! 	pg_type.oid, pg_key.oid, true
     FROM pg_type, pg_am, pg_type pg_key
     WHERE pg_type.typname = 'ltree' and
     pg_am.amname='gist' and
--- 374,381 ----
  create function ltree_union(bytea, opaque) returns int4 as 'MODULE_PATHNAME' language 'C';
  create function ltree_same(opaque, opaque, opaque) returns opaque as 'MODULE_PATHNAME' language 'C';
  
! INSERT INTO pg_opclass (opcamid, opcname, opcintype, opckeytype, opcdefault)
!    SELECT pg_am.oid, 'gist_ltree_ops', pg_type.oid, pg_key.oid, true
     FROM pg_type, pg_am, pg_type pg_key
     WHERE pg_type.typname = 'ltree' and
     pg_am.amname='gist' and
***************
*** 720,730 ****
  create function _ltree_union(bytea, opaque) returns int4 as 'MODULE_PATHNAME' language 'C';
  create function _ltree_same(opaque, opaque, opaque) returns opaque as 'MODULE_PATHNAME' language 'C';
  
! INSERT INTO pg_opclass (opcamid, opcname, opcnamespace, opcowner, opcintype, opckeytype, opcdefault)
!    SELECT pg_am.oid, 'gist__ltree_ops', 
! 	(SELECT oid FROM pg_namespace WHERE nspname = 'pg_catalog'),
! 	1,      -- UID of superuser is hardwired to 1 as of PG 7.3
! 	pg_type.oid, pg_key.oid, true
     FROM pg_type, pg_am, pg_type pg_key
     WHERE pg_type.typname = '_ltree' and
     pg_am.amname='gist' and
--- 715,722 ----
  create function _ltree_union(bytea, opaque) returns int4 as 'MODULE_PATHNAME' language 'C';
  create function _ltree_same(opaque, opaque, opaque) returns opaque as 'MODULE_PATHNAME' language 'C';
  
! INSERT INTO pg_opclass (opcamid, opcname, opcintype, opckeytype, opcdefault)
!    SELECT pg_am.oid, 'gist__ltree_ops', pg_type.oid, pg_key.oid, true
     FROM pg_type, pg_am, pg_type pg_key
     WHERE pg_type.typname = '_ltree' and
     pg_am.amname='gist' and
