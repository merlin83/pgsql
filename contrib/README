
 The PostgreSQL contrib tree
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~

	FIXME:
		odbc
		spi/preprocessor
		tools		

 - the contrib contain is in the "Contrib.index" 	

 - in each directory must be Makefile, possible Makefile template
   is below this text,

--------
#
# $Header: /home/rubik/work/pgcvs/CVSROOT/pgsql/contrib/README,v 1.19 2000-06-19 13:52:59 momjian Exp $
#

TOPDIR=../..

include ../Makefile.global

NAME	= some_name

PROGRAM	= 
OBJS	= $(NAME).o
DOCS	= $(NAME).doc
SQLS	= $(NAME).sql
BINS	=
EXAMPLES=
MODS	= $(NAME)$(DLSUFFIX)

CFLAGS += -I. $(CFLAGS_SL)

OTHER_CLEAN = $(SQLS)

all: $(MODS) $(SQLS)

%.sql: %.sql.in
	$(SED) "s|MODULE_PATHNAME|$(CONTRIB_MODDIR)/$@|" < $< > $@


install: install_doc install_sql install_mod install_bin install_example

install_doc:
	for inst_file in $(DOCS); do \
		$(INSTALL) $(INSTL_LIB_OPTS) $$inst_file $(CONTRIB_DOCDIR); \
	done

install_sql:
	for inst_file in $(SQLS); do \
		$(INSTALL) $(INSTL_LIB_OPTS) $$inst_file $(CONTRIB_SQLDIR); \
	done

install_mod:
	for inst_file in $(MODS); do \
		$(INSTALL) $(INSTL_SHLIB_OPTS) $$inst_file $(CONTRIB_MODDIR); \
	done

install_bin:
	for inst_file in $(BINS); do \
		$(INSTALL) $(INSTL_EXE_OPTS) $$inst_file $(CONTRIB_BINDIR); \
	done

install_example:
	for inst_file in $(EXAMPLES); do \
		$(INSTALL) $(INSTL_LIB_OPTS) $$inst_file $(CONTRIB_EXAMPLESDIR); \
	done

depend dep:
	$(CC) -MM -MG $(CFLAGS) *.c > depend

clean:
	$(RM) *~ $(OBJS) $(MODS) $(PROGRAM) depend $(OTHER_CLEAN) core log

ifeq (depend,$(wildcard depend))
include depend
endif
-----------
  