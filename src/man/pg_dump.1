.\" This is -*-nroff-*-
.\" XXX standard disclaimer belongs here....
.\" $Header: /home/rubik/work/pgcvs/CVSROOT/pgsql/src/man/Attic/pg_dump.1,v 1.15 1998-10-07 02:49:10 momjian Exp $
.TH PG_DUMP UNIX 7/15/98 PostgreSQL PostgreSQL
.SH NAME
pg_dump - dumps out a Postgres database into a script file
.SH SYNOPSIS
.BR pg_dump
[\c
.BR "-a"
]
[\c
.BR "-d"
]
[\c
.BR "-D"
]
[\c
.BR "-f"
filename
]
[\c
.BR "-h"
hostname
]
[\c
.BR "-n"
]
[\c
.BR "-o"
]
[\c
.BR "-p"
port]
[\c
.BR "-s"
]
[\c
.BR "-t"
table]
[\c
.BR "-u"
]
[\c
.BR "-v"
]
[\c
.BR "-z"
]
dbname
.in -5n
.SH DESCRIPTION
.IR "pg_dump"
is a utility for dumping out a 
Postgres database into a script file containing query commands.  The script
files are in ASCII format and can be used to reconstruct the database,
even on other machines and other architectures.  
.IR "pg_dump" 
will produce the queries necessary to re-generate all
user-defined types, functions, tables, indices, aggregates, and
operators.  In addition, all the data is copied out in ASCII format so
that it can be readily copied in again, as well as imported into tools
for textual editing.
.PP
.IR "pg_dump" 
is useful for dumping out the contents of a database to move from one
postgreSQL installation to another.  After running 
.IR "pg_dump"
, one should examine the output script file for any warnings, especially
in light of the limitations listed below. 
.PP
pg_dump understands the following options:
.TP
.BR "-a" ""
Dump out only the data, no schema
.TP
.BR "-d" ""
Dump data as proper insert strings
.TP
.BR "-D" ""
Dump data as inserts with attribute names
.TP
.BR "-f" " filename"
Specifies the output file
.TP
.BR "-h" " hostname"
Specifies the server host name
.TP
.BR "-n" ""
Suppress most double quotes around identifiers.
.TP
.BR "-o" ""
Dump object id's (oids)
.TP
.BR "-p" " port"
Specifies the server port number
.TP
.BR "-s" ""
Dump out only the schema, no data
.TP
.BR "-t" " table"
Dump for this table only
.TP
.BR "-u"
Use password authentication. Prompts for username and password
.TP
.BR "-v" ""
Specifies verbose mode
.TP
.BR "-z" ""
Include ACLs (grant/revoke commands) and table ownership information
.PP
If dbname is not supplied, then the DATABASE environment variable value is used.
.SH "CAVEATS AND LIMITATIONS"
.IR pg_dump 
has a few limitations.
The limitations mostly stem from
difficulty in extracting certain meta-information from the system
catalogs.   
.TP
.BR "partial indices"
pg_dump does not understand partial indices. (The reason is
the same as above.  Partial index predicates are stored as plans)
.TP
.BR "large objects"
pg_dump does not handle large objects.  Large objects are ignored and
must be dealt with manually. 
.SH EXAMPLES
.nf
To dump a database:

	pg_dump >db.out

To reload it:

	psql -e database <db.out

.SH "SEE ALSO"
copy(l).
