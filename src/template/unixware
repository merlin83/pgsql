if test "$GCC" = yes; then
  PTHREAD_CFLAGS="-pthread"
else
  # The -Kno_host is for a bug in the compiler.  See -hackers
  # discussion on 7-8/Aug/2003.
  cat >conftest.c <<__EOF__
extern char *strcpy(char *, const char *);

static void f(char *p, int n){
        strcpy(p+n,"");
}
void g(void){
        f(0, 0);
}
__EOF__

  if $CC -c -O -Kinline conftest.c >conftest.err 2>&1; then
    CFLAGS="-O -Kinline"
  else
    CFLAGS="-O -Kinline,no_host"
  fi
  rm -f conftest.*

  PTHREAD_CFLAGS="-Kpthread"
fi

# tools/thread/thread_test must be run
PTHREAD_CFLAGS="$PTHREAD_CFLAGS -D_REENTRANT"

# Disabled because flags are required for all apps using libpq.
# Waiting to see if other platforms need this too.  2004-03-22
