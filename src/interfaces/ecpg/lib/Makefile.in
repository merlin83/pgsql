SRCDIR= ../../..
include $(SRCDIR)/Makefile.global

PQ_INCLUDE=-I$(SRCDIR)/include -I$(SRCDIR)/interfaces/libpq

all: lib

lib: libecpg.a

clean:
	rm -f *.o *.a core a.out *~

install: libecpg.a
	install -m 644 libecpg.a $(LIBDIR)

uninstall::
	rm -f $(LIBDIR)/libecpg.a

# Rules that do something
libecpg.a : libecpg.a(ecpglib.o) libecpg.a(typename.o)

ecpglib.o : ecpglib.c ../include/ecpglib.h ../include/ecpgtype.h
	$(CC) -O2 -g -Wall -I../include $(PQ_INCLUDE) -c ecpglib.c
typename.o : typename.c ../include/ecpgtype.h
	$(CC) -g -O2 -Wall -I../include $(PQ_INCLUDE) -c typename.c
